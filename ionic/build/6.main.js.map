{"version":3,"sources":["../../src/pages/location/location.module.ts","../../src/pages/location/location.ts"],"names":[],"mappings":"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","file":"6.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LocationPage } from './location';\n\n@NgModule({\n  declarations: [\n    LocationPage\n  ],\n  imports: [\n    IonicPageModule.forChild(LocationPage)\n  ],\n  exports: [\n    LocationPage\n  ]\n})\nexport class LocationPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.module.ts","import { Component, NgZone, ViewChild } from '@angular/core';\nimport { IonicPage, NavParams, ViewController } from 'ionic-angular';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { Location } from '../../providers';\nimport * as _ from 'lodash';\n\ndeclare let google: any;\n\n@IonicPage({\n  priority: 'high'\n})\n@Component({\n  selector: 'page-location',\n  templateUrl: 'location.html'\n})\nexport class LocationPage {\n  @ViewChild('searchInput') searchInput;\n  heading: string;\n  autocompleteItems: Array<{ description: string, place_id: string }>;\n  query: string;\n  acService: any;\n  locationObj: Location;\n  showCancel: boolean;\n\n  constructor(public navParams: NavParams,\n              public viewCtrl: ViewController,\n              public keyboard: Keyboard,\n              public zone: NgZone) {\n    this.heading = navParams.get('heading') ? navParams.get('heading') : 'Search City Name';\n    this.showCancel = navParams.data.showCancel !== undefined ? navParams.data.showCancel : true;\n  }\n\n  ionViewDidEnter() {\n    this.zone.run(() => {\n      this.searchInput.setFocus();\n      this.keyboard.show();\n    });\n  }\n\n  ionViewWillEnter() {\n    this.acService = new google.maps.places.AutocompleteService();\n    this.autocompleteItems = [];\n    this.query = '';\n    this.locationObj = {\n      name: null,\n      lat: null,\n      lng: null\n    };\n  }\n\n  ionViewWillLeave() {\n    this.keyboard.close();\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  updateSearch() {\n    console.debug('modal > updateSearch > query ', this.query);\n    if (this.query.trim() == '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    let self = this;\n    let config = {\n      types: ['(cities)'],\n      input: this.query\n    };\n    this.acService.getPlacePredictions(config, (predictions, status) => {\n      console.debug('modal > getPlacePredictions > status > ', status);\n      self.zone.run(() => {\n        self.autocompleteItems = predictions ? predictions : [];\n      });\n    });\n  }\n\n  chooseItem(item) {\n    let self = this;\n    let request = {\n      placeId: item.place_id\n    };\n    let response: Location;\n    let placesService = new google.maps.places.PlacesService(document.createElement('div'));\n    placesService.getDetails(request, (place, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        self.locationObj.lat = place.geometry.location.lat();\n        self.locationObj.lng = place.geometry.location.lng();\n        let obj = _.find(place.address_components, ['types[0]', 'locality']);\n        if (obj) {\n          self.locationObj.name = obj['short_name'];\n        }\n        response = self.locationObj;\n      } else {\n        console.debug('page > getPlaceDetail > status > ', status);\n      }\n      self.zone.run(() => {\n        self.viewCtrl.dismiss(response);\n      });\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.ts"],"sourceRoot":""}