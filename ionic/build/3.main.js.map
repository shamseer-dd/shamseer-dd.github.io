{"version":3,"sources":["../../src/pages/weather-detail/weather-detail.module.ts","../../src/pages/weather-detail/weather-detail.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAEK;AAarD,IAAa,uBAAuB;IAApC;IACA,CAAC;IAAD,8BAAC;AAAD,CAAC;AADY,uBAAuB;IAXnC,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,0EAAiB;SAClB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,0EAAiB,CAAC;SAC5C;QACD,eAAe,EAAE;YACf,0EAAiB;SAClB;KACF,CAAC;GACW,uBAAuB,CACnC;AADmC;;;;;;;;;;;;;;;;;;;;;;;;;AChByB;AACC;AACT;AAC+C;AACxE;AAQ5B,IAAa,iBAAiB;IAwB5B,2BAAmB,MAAiB,EACjB,SAAoB,EACpB,WAAwB;QAFxB,WAAM,GAAN,MAAM,CAAW;QACjB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QAnB3C,gBAAW,GAAkB,CAAC,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO;YACxE,UAAU,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY;YACpD,iBAAiB,EAAE,mBAAmB,EAAE,oBAAoB,CAAC,CAAC;QAChE,iBAAY,GAAc,EAAE,CAAC;QAC7B,gBAAW,GAAY,KAAK,CAAC;QAC7B,iBAAY,GAAW,QAAQ,CAAC;QAChC,gBAAW,GAMN,EAAE,CAAC;QACR,cAAS,GAAG,EAAE,CAAC;QAEf,gBAAW,GAAG,EAAE,CAAC;QAKf,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QACnD,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACrC,CAAC;IAED,oCAAQ,GAAR;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC;YACH,IAAI,CAAC,cAAc,GAAG,4CAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,aAAG,IAAI,WAAI,CAAC,eAAe,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,EAArC,CAAqC,CAAC,CAAC;YACtG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;QAC3C,CAAC;QAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACb,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACjE,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IAChC,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;IACrC,CAAC;IAED,0CAAc,GAAd;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YAC5C,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,GAAc;gBAClD,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;oBACxC,MAAM,CAAC;gBACT,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpB,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,WAAW,EAAE,GAAG,CAAC,WAAW;oBAC5B,WAAW,EAAE,KAAK;oBAClB,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;iBACnC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QACD,IAAI,CAAC,SAAS,GAAG,6CAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAClE,CAAC;IAED,sCAAU,GAAV,UAAW,cAAc;QACvB,IAAI,CAAC,SAAS,GAAG,8CAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,6CAAO,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC,CAAC;QAC9G,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YAChD,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC;QACD,cAAc,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;IAED,yCAAa,GAAb;QACE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,6CAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAClE,CAAC;IAED,yCAAa,GAAb,UAAc,IAAI;QAChB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;IACvC,CAAC;IAED,2CAAe,GAAf,UAAgB,EAAa;QAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,+CAAS,CAAC,IAAI,CAAC,WAAW,EAAE,UAAC,IAAI;YAC/B,IAAI,OAAO,GAAG,2CAAK,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;gBAClB,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;gBACjD,YAAY,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,iDAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;YAC9D,CAAC;QACH,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,CAAC;IACtB,CAAC;IAED,4CAAgB,GAAhB,UAAiB,UAAkB,EAAE,OAAY;QAC/C,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACnB,KAAK,UAAU,CAAC;YAChB,KAAK,YAAY,CAAC;YAClB,KAAK,mBAAmB;gBACtB,MAAM,CAAC,6CAAO,CAAC,OAAO,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1C,KAAK,UAAU;gBACb,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAChE,KAAK,WAAW;gBACd,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;gBACnD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACzE,KAAK,OAAO;gBACV,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;YACzB,KAAK,UAAU;gBACb,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC5D,KAAK,YAAY;gBACf,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAChE,KAAK,YAAY;gBACf,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAC7C,KAAK,iBAAiB;gBACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC1D,KAAK,oBAAoB;gBACvB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC9D;gBACE,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IACH,wBAAC;AAAD,CAAC;AAlIqB;IAAnB,wFAAS,CAAC,8DAAO,CAAC;8BAAU,8DAAO;kDAAC;AAD1B,iBAAiB;IAN7B,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,WAAW,EAAE,sFAAqB;OACV;KACzB,CAAC;oFAyBoC;QACN,+DAAS;QACP,WAAW;AAyG5C;SAnIY,iBAAiB,gB","file":"3.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { WeatherDetailPage } from './weather-detail';\n\n@NgModule({\n  declarations: [\n    WeatherDetailPage\n  ],\n  imports: [\n    IonicPageModule.forChild(WeatherDetailPage)\n  ],\n  entryComponents: [\n    WeatherDetailPage\n  ]\n})\nexport class WeatherDetailPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/weather-detail/weather-detail.module.ts","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Content, IonicPage, NavParams } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { collapse, DataPoint, Forecast, KV, Location, Metrics, UtilService } from '../../providers';\nimport * as _ from 'lodash';\n\n@IonicPage()\n@Component({\n  selector: 'page-weather-detail',\n  templateUrl: 'weather-detail.html',\n  animations: [collapse()]\n})\nexport class WeatherDetailPage implements OnInit {\n  @ViewChild(Content) content: Content;\n\n  forecast: Forecast;\n  currentForecast: DataPoint;\n  currentLocation: Location;\n  metrics: Metrics;\n  detailsElem: Array<string> = ['humidity', 'pressure', 'windSpeed', 'ozone',\n    'dewPoint', 'cloudCover', 'visibility', 'precipType',\n    'precipIntensity', 'precipProbability', 'precipAccumulation'];\n  detailsArray: Array<KV> = [];\n  showSegment: boolean = false;\n  whichSegment: string = 'detail';\n  hourlyArray: Array<{\n    time: number,\n    icon: string,\n    temperature: number,\n    showDetails: boolean,\n    details: Array<KV>\n  }> = [];\n  tempArray = [];\n  firstHourlyObj: DataPoint;\n  infiniteInc = 10;\n\n  constructor(public params: NavParams,\n              public statusBar: StatusBar,\n              public utilService: UtilService) {\n    this.forecast = params.data.forecast;\n    this.currentForecast = params.data.currentForecast;\n    this.currentLocation = params.data.currentLocation;\n    this.metrics = params.data.metrics;\n  }\n\n  ngOnInit() {\n    let self = this;\n    try {\n      this.firstHourlyObj = _.find(this.forecast.hourly.data, obj => self.currentForecast.time <= obj.time);\n      this.showSegment = !!this.firstHourlyObj;\n    } catch (err) {\n      this.showSegment = false;\n    }\n    this.detailsArray = this.getDetailsArray(this.currentForecast);\n  }\n\n  ionViewWillEnter() {\n    this.statusBar.styleDefault();\n  }\n\n  ionViewWillLeave() {\n    this.statusBar.styleLightContent();\n  }\n\n  ionViewDidLoad() {\n    let self = this;\n    this.hourlyArray = [];\n    if (this.showSegment && this.firstHourlyObj) {\n      _.forEach(self.forecast.hourly.data, (obj: DataPoint) => {\n        if (obj.time < self.firstHourlyObj.time) {\n          return;\n        }\n        self.hourlyArray.push({\n          time: obj.time,\n          icon: obj.icon,\n          temperature: obj.temperature,\n          showDetails: false,\n          details: self.getDetailsArray(obj)\n        });\n      });\n    }\n    self.tempArray = _.slice(self.hourlyArray, 0, this.infiniteInc);\n  }\n\n  doInfinite(infiniteScroll) {\n    this.tempArray = _.concat(this.tempArray, _.slice(this.hourlyArray, this.infiniteInc, this.infiniteInc + 10));\n    this.infiniteInc += 10;\n    if (this.infiniteInc >= this.hourlyArray.length) {\n      infiniteScroll.enable(false);\n    }\n    infiniteScroll.complete();\n  }\n\n  segmentChange() {\n    this.content.scrollToTop();\n    this.infiniteInc = 10;\n    this.tempArray = _.slice(this.hourlyArray, 0, this.infiniteInc);\n  }\n\n  toggleDetails(item) {\n    item.showDetails = !item.showDetails;\n  }\n\n  getDetailsArray(dp: DataPoint): Array<KV> {\n    let self = this;\n    let detailsArray = [];\n    _.forEach(this.detailsElem, (elem) => {\n      let elemVal = _.get(dp, elem, 0);\n      if (elemVal !== 0) {\n        let value = self.formatDetailElem(elem, elemVal);\n        detailsArray.push({ key: _.startCase(elem), value: value });\n      }\n    });\n    return detailsArray;\n  }\n\n  formatDetailElem(detailElem: string, elemVal: any): string {\n    switch (detailElem) {\n      case 'humidity':\n      case 'cloudCover':\n      case 'precipProbability':\n        return _.round(elemVal * 100, 5) + ' %';\n      case 'pressure':\n        return this.utilService.formatPressure(elemVal, this.metrics);\n      case 'windSpeed':\n        let windBearing = this.currentForecast.windBearing;\n        return this.utilService.formatWind(elemVal, windBearing, this.metrics);\n      case 'ozone':\n        return elemVal + ' DU';\n      case 'dewPoint':\n        return this.utilService.formatTemp(elemVal, this.metrics);\n      case 'visibility':\n        return this.utilService.formatDistance(elemVal, this.metrics);\n      case 'precipType':\n        return this.utilService.startCase(elemVal);\n      case 'precipIntensity':\n        return this.utilService.formatPI(elemVal, this.metrics);\n      case 'precipAccumulation':\n        return this.utilService.formatLength(elemVal, this.metrics);\n      default:\n        return elemVal + '';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/weather-detail/weather-detail.ts"],"sourceRoot":""}